# 前端工作台与产品体验规范

版本：v1.0
日期：2026-02-03
状态：Active

---

## 1. Workbench 信息架构

### 页面结构

```
Workbench (工作台)
├── Workspace 切换器
│   ├── 当前 Workspace
│   ├── 快速切换
│   └── 创建新空间
├── 主导航
│   ├── 仪表盘
│   ├── 应用列表
│   ├── 工作流
│   ├── 数据
│   ├── 设置
│   └── 账单
├── App 管理
│   ├── App 列表
│   ├── App 详情
│   ├── App 编辑器
│   └── 运行监控
└── 系统功能
    ├── 通知
    ├── 帮助
    └── 账户
```

### 页面清单

| 页面 | 路径 | 主要功能 |
|-----|------|---------|
| 仪表盘 | `/dashboard` | 概览、快速操作、统计 |
| 应用列表 | `/apps` | 应用管理、搜索筛选 |
| 应用详情 | `/apps/:id` | 基本信息、指标、状态 |
| 应用编辑器 | `/apps/:id/builder` | AI 对话、画布、配置 |
| 运行监控 | `/apps/:id/monitoring` | 执行历史、日志、指标 |
| 版本历史 | `/apps/:id/versions` | 版本列表、对比、回滚 |
| 域名管理 | `/apps/:id/domains` | 绑定、验证、证书 |
| 发布设置 | `/apps/:id/publish` | 访问策略、SEO、分享 |

---

## 2. App 编辑器与 AI 对话融合

### 布局设计

```
┌─────────────────────────────────────────────────────────────────┐
│  Header: App名称 | 状态 | 保存状态 | 版本 | 发布按钮            │
├─────────────┬───────────────────────────────┬───────────────────┤
│             │                               │                   │
│   AI 对话   │      Workflow 画布             │   配置面板        │
│             │                               │                   │
│  • 输入框   │  • 节点拖放                    │  • 节点配置       │
│  • 建议     │  • 连线编辑                    │  • 变量映射       │
│  • 历史     │  • 缩放平移                    │  • 校验提示       │
│             │                               │                   │
├─────────────┴───────────────────────────────┼───────────────────┤
│              UI Schema 配置                  │     预览区       │
│                                              │                   │
│  • 表单字段配置                              │  • 实时预览       │
│  • 结果展示配置                              │  • 试运行        │
└──────────────────────────────────────────────┴───────────────────┘
```

### 交互流程

1. **AI 生成**：用户描述需求 → AI 生成工作流 + UI
2. **手动编辑**：拖拽节点 → 配置参数 → 连线
3. **预览测试**：填写输入 → 试运行 → 查看结果
4. **发布上线**：配置访问策略 → 发布 → 获取链接

### 一体化体验目标

| 目标 | 实现方式 |
|-----|---------|
| 即时反馈 | AI 对话实时生成预览 |
| 无缝切换 | AI 结果可直接编辑 |
| 版本追踪 | 自动保存 + 版本快照 |
| 错误预防 | 实时校验 + 智能提示 |

---

## 3. App 公开访问页面

### 页面结构

```
公开访问页
├── Header
│   ├── App 图标 + 名称
│   ├── 品牌标识（可选）
│   └── 登录入口（如需要）
├── Main
│   ├── 输入表单（动态生成）
│   ├── 运行按钮
│   └── 结果展示区
├── Footer
│   ├── 使用条款链接
│   ├── 隐私说明链接
│   └── 平台标识
└── 辅助
    ├── 示例输入
    ├── 使用说明
    └── 限制提示
```

### UI 规范

| 元素 | 规范 |
|-----|------|
| 主色调 | 使用 App 主题色或默认蓝 |
| 字体 | Inter / 系统字体 |
| 卡片圆角 | 8px |
| 输入框 | 清晰 label + placeholder |
| 按钮 | 主操作突出、禁用态明确 |
| 加载态 | 骨架屏 + 进度提示 |

### 响应式设计

| 断点 | 布局 |
|-----|------|
| ≥1024px | 双栏（输入+结果） |
| 768-1023px | 单栏宽松 |
| <768px | 单栏紧凑 |

---

## 4. 匿名访问体验

### 引导流程

```
首次访问
    │
    ▼
┌─────────────┐
│  条款提示   │ → 确认继续
└─────────────┘
    │
    ▼
┌─────────────┐
│  输入表单   │ → 填写输入
└─────────────┘
    │
    ▼
┌─────────────┐
│  执行中...  │ → 等待结果
└─────────────┘
    │
    ▼
┌─────────────┐
│  结果展示   │ → 查看结果
└─────────────┘
    │
    ▼
┌─────────────┐
│ 升级引导？  │ → 注册/登录
└─────────────┘
```

### 限制提示

| 限制类型 | 提示文案 |
|---------|---------|
| 频率限制 | "您的访问过于频繁，请稍后再试" |
| 配额用尽 | "今日免费额度已用完，明日重置" |
| 需要登录 | "继续使用需要登录账号" |
| 验证码 | "为确保安全，请完成验证" |

### 隐私说明

```markdown
## 匿名访问隐私说明

- 我们会记录您的 IP 地址（加密存储）用于安全防护
- 会话数据在 24 小时后自动删除
- 您的输入数据仅用于本次执行，不会用于训练
- 登录后可查看完整历史记录
```

---

## 5. 前端组件规范

### 核心组件

| 组件 | 用途 |
|-----|------|
| `WorkspaceSwitcher` | Workspace 切换 |
| `AppCard` | 应用卡片展示 |
| `WorkflowCanvas` | 工作流画布 |
| `NodeConfig` | 节点配置面板 |
| `UISchemaEditor` | UI Schema 编辑 |
| `ExecutionLog` | 执行日志展示 |
| `PublicAppView` | 公开访问页渲染 |

### 状态管理

| Store | 职责 |
|-------|------|
| `workspaceStore` | 当前 Workspace 上下文 |
| `appStore` | App 详情和状态 |
| `editorStore` | 编辑器状态 |
| `executionStore` | 执行状态和日志 |

---

## 变更记录

| 日期 | 版本 | 变更内容 | 作者 |
|------|------|---------|------|
| 2026-02-03 | v1.0 | 初始版本 | AgentFlow Team |

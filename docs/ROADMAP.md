# AgentFlow 产品路线图

> **版本**: v1.0  
> **更新日期**: 2026-01-29  
> **文档状态**: 活跃维护

---

## 目录

1. [产品愿景](#1-产品愿景)
2. [核心定位](#2-核心定位)
3. [当前进度](#3-当前进度)
4. [分阶段规划](#4-分阶段规划)
5. [关键里程碑](#5-关键里程碑)
6. [成功指标](#6-成功指标)
7. [风险与应对](#7-风险与应对)

---

## 1. 产品愿景

### 1.1 一句话定位

> **"本地优先、代码级自定义、社区驱动的 AI Agent 工作流平台"**

### 1.2 核心价值主张

| 价值点 | 描述 | 竞争优势 |
|--------|------|----------|
| **本地优先** | 支持完全本地运行，数据不出本机 | Coze/Manus 均为纯云端，无法复制 |
| **代码级自定义** | 用户可编写自定义节点和插件 | 超越拖拽式工具的局限 |
| **社区生态** | Agent 商店 + 创作者经济 | 形成增长飞轮 |
| **极致体验** | 5 分钟上手，现代美观界面 | 降低使用门槛 |

### 1.3 目标用户

```
┌─────────────────────────────────────────────────────────────────┐
│                      用户金字塔                                  │
│                                                                 │
│                         /\                                      │
│                        /  \         插件开发者 (5%)              │
│                       / 5% \        - 发布自定义节点              │
│                      /──────\       - 参与生态建设               │
│                     /        \                                   │
│                    /   15%    \     高级用户 (15%)               │
│                   /────────────\    - 复杂 workflow              │
│                  /              \   - 代码节点使用               │
│                 /      30%      \   普通用户 (30%)               │
│                /──────────────────\  - 使用模板                  │
│               /                    \ - 简单自定义                │
│              /        50%          \ 浏览者 (50%)                │
│             /────────────────────────\ - 使用现成 Agent          │
│                                        - 偶尔分享                │
└─────────────────────────────────────────────────────────────────┘
```

---

## 2. 核心定位

### 2.1 市场定位矩阵

```
专业性高 ↑
         │           ┌─────────────┐
         │           │  AgentFlow  │  ← 我们的位置
         │           │  (目标)     │
         │           └─────────────┘
         │    ┌─────┐
         │    │Dify │
         │    └─────┘      ┌─────┐
         │                 │Coze │
         │                 └─────┘
         │  ┌──────┐              ┌───────┐
         │  │n8n   │              │ Manus │
         │  └──────┘              └───────┘
专业性低 ├──────────────────────────────────→ 易用性高
```

### 2.2 差异化策略

| 对比维度 | Dify | n8n | Coze | Manus | **AgentFlow** |
|----------|------|-----|------|-------|---------------|
| 本地部署 | 有限 | ✅ | ❌ | ❌ | ✅ 原生支持 |
| 本地 LLM | 有限 | ✅ | ❌ | ❌ | ✅ Ollama 原生 |
| 自定义节点 | 中 | 高 | 低 | 无 | ✅ 极高 (SDK) |
| 社区生态 | 弱 | 社区模板 | Bot 商店 | 无 | ✅ Agent 商店 + 创作者经济 |
| AI 辅助构建 | 无 | 无 | 有限 | 自动 | ✅ 对话式构建 |
| 调试体验 | 一般 | 好 | 差 | 黑盒 | ✅ 时间旅行调试 |
| **创意生成** | ❌ | ❌ | ❌ | ❌ | ✅ **AI 创意助手** |

### 2.3 核心差异化功能：AI 创意助手

> **"一句话输入，完整方案输出"** — 这是 AgentFlow 最核心的差异化功能

**功能定义**：用户输入一个创意或目标，平台自动生成完整的商业计划、内容策略、执行方案。

**示例场景**：

```
用户输入: "我想通过AI自媒体年入1000万"

AgentFlow 输出 (5分钟内):
├── 市场机会分析（带真实案例和数据）
├── 商业模式设计（收入结构、产品矩阵）
├── 执行策略（平台布局、内容计划）
├── 时间规划（分阶段目标、里程碑）
├── 风险评估（识别风险、应对策略）
└── 立即行动（本周任务、首月目标）
```

**核心能力**：
- 📡 **联网搜索增强** — 获取最新市场数据和成功案例
- 🔗 **工作流编排** — 多个 AI 节点串联，分章节生成
- 📝 **结构化输出** — Markdown 格式，可编辑、可导出
- 🔄 **迭代优化** — 单章节重新生成，持续完善

**预设模板**：
| 模板 | 描述 | 输出 |
|------|------|------|
| 商业计划生成器 | 完整商业计划书 | 市场、模式、策略、时间表 |
| 自媒体内容策划 | 账号运营全方案 | 定位、选题库、排期表 |
| 营销方案生成器 | 整合营销策略 | 渠道、预算、ROI预估 |
| PRD 文档生成 | 产品需求文档 | 背景、功能、原型建议 |

详见: [AI 创意助手需求文档](./requirements/FEATURE-AI-CREATIVE-ASSISTANT.md)

---

## 3. 当前进度

### 3.1 模块完成度

| 模块 | 完成度 | 状态 | 说明 |
|------|--------|------|------|
| **可视化编辑器** | 90% | ✅ | 画布、节点、连线、配置面板 |
| **节点系统** | 70% | ⚠️ | 22 种节点组件已实现，部分未暴露 |
| **执行引擎** | 30% | ⚠️ | 前端模拟，需后端实现 |
| **用户系统** | 50% | ⚠️ | 登录注册已有，需完善 |
| **工作流管理** | 60% | ⚠️ | 列表页完成，CRUD 需完善 |
| **Agent 商店** | 0% | ❌ | 未开始 |
| **本地模式** | 0% | ❌ | 未开始（核心差异化）|
| **自定义节点 SDK** | 40% | ⚠️ | SDK 框架已有，需完善 |

### 3.2 已实现的编辑器功能

| PRD 需求 | 状态 | 说明 |
|----------|------|------|
| ED-001 画布基础 | ✅ | 无限画布，25%-400% 缩放 |
| ED-002 节点拖拽 | ✅ | 吸附网格 24px |
| ED-003 连线操作 | ✅ | smoothstep 曲线，类型检查 |
| ED-004 节点配置 | ✅ | 右侧配置面板 |
| ED-005 撤销重做 | ✅ | Ctrl+Z/Y |
| ED-006 复制粘贴 | ✅ | Ctrl+C/V/D |
| ED-007 快捷键 | ✅ | 快捷键帮助面板 |
| ED-008 小地图 | ✅ | MiniMap |
| ED-009 自动布局 | ✅ | 水平/垂直布局 |
| ED-010 分组功能 | ❌ | 未实现 |

### 3.3 已实现的节点类型

**已实现且可用 (15 种)**:
- AI: `llm`
- 逻辑: `condition`, `loop`, `delay`, `trycatch`
- 数据: `variable`, `merge`, `filter`, `transform`
- 集成: `http`, `webhook`
- 流程: `start`, `end`
- 文本: `template`, `textsplit`, `regex`
- 代码: `code`, `expression`
- I/O: `input`, `output`

**PRD 要求但未实现**:
- AI: Embedding, 图像生成, 语音转文字
- 集成: 数据库查询, 发送邮件, 发送消息
- 逻辑: 并行执行 (Parallel)
- 代码: Python

---

## 4. 分阶段规划

### 4.1 总体时间线

```
2026 Q1          2026 Q2          2026 Q3          2026 Q4
  │                │                │                │
  ▼                ▼                ▼                ▼
┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐
│  Phase 1    │  │  Phase 2    │  │  Phase 3    │  │  Phase 4    │
│  MVP 闭环   │→│  差异化功能  │→│  社区生态   │→│  规模化     │
│             │  │             │  │             │  │             │
│ • 执行引擎  │  │ • 本地模式  │  │ • Agent商店 │  │ • 企业版    │
│ • LLM对接   │  │ • Ollama    │  │ • 模板市场  │  │ • 团队协作  │
│ • 工作流存储│  │ • 调试工具  │  │ • 创作者经济│  │ • 高级分析  │
│ • 实时日志  │  │ • AI辅助    │  │ • 社交功能  │  │ • 私有部署  │
└─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘
     ↓                ↓                ↓                ↓
  内测发布         公测发布         正式发布         商业化
  (4-6周)          (6-8周)          (8-12周)         (持续)
```

### 4.2 Phase 1: MVP 闭环 (4-6 周)

**目标**: 让用户能创建、保存、真正运行工作流

详见: [Phase 1 详细需求文档](./requirements/PHASE-1-MVP.md)

**核心交付物**:
- [ ] 后端执行引擎 (Go)
- [ ] LLM 节点真实调用
- [ ] HTTP 节点完整实现
- [ ] 工作流 CRUD API
- [ ] 执行日志 WebSocket 推送
- [ ] 基础错误处理

**验收标准**:
> 用户可以创建一个"获取天气 → LLM 总结"的工作流，保存后运行，看到实时执行日志和最终结果。

### 4.2.1 Phase 1.5: AI 创意助手 (2-4 周)

**目标**: 实现核心差异化功能——一键生成完整方案

详见: [AI 创意助手需求文档](./requirements/FEATURE-AI-CREATIVE-ASSISTANT.md)

**核心交付物**:
- [ ] 联网搜索节点 (Web Search)
- [ ] 模板系统基础架构
- [ ] 商业计划生成器模板
- [ ] 长文档流式生成
- [ ] 结果预览和导出

**验收标准**:
> 用户输入"我想做AI自媒体年入1000万"，5分钟内获得包含市场分析、商业模式、执行策略、时间规划的完整商业计划书。

**为什么是 Phase 1.5**:
1. **依赖 Phase 1**: 需要执行引擎和 LLM 节点能力
2. **核心差异化**: 这是与竞品最大的差异点
3. **验证价值**: 快速验证产品-市场匹配度
4. **增长飞轮**: 高质量输出容易传播，带来自然增长

### 4.3 Phase 2: 差异化功能 (6-8 周)

**目标**: 建立核心竞争壁垒，与竞品形成差异

详见: [Phase 2 详细需求文档](./requirements/PHASE-2-DIFFERENTIATION.md)

**核心交付物**:
- [ ] Tauri 桌面应用框架
- [ ] 本地执行引擎
- [ ] Ollama 本地 LLM 集成
- [ ] 时间旅行调试
- [ ] AI 辅助构建（对话生成工作流）
- [ ] 节点分组功能

**验收标准**:
> 用户可以下载桌面版，完全离线运行包含本地 LLM 的工作流，并能回溯查看任意执行步骤。

### 4.4 Phase 3: 社区生态 (8-12 周)

**目标**: 建立增长飞轮，实现自增长

详见: [Phase 3 详细需求文档](./requirements/PHASE-3-COMMUNITY.md)

**核心交付物**:
- [ ] Agent 商店 MVP
- [ ] 模板市场 (100+ 模板)
- [ ] 自定义节点 SDK 完善
- [ ] 创作者分成系统
- [ ] 社交功能 (关注/收藏/评论)
- [ ] 一键 Fork 功能

**验收标准**:
> 商店上架 50+ Agent，有创作者通过平台获得收入。

### 4.5 Phase 4: 规模化 (持续)

**目标**: 商业化变现，企业市场拓展

**核心交付物**:
- [ ] 企业版功能 (SSO/LDAP)
- [ ] 团队协作 (多人编辑)
- [ ] 权限管理系统
- [ ] 审计日志
- [ ] 私有化部署方案
- [ ] 高级分析仪表盘

---

## 5. 关键里程碑

| 里程碑 | 目标日期 | 交付物 | 验收标准 |
|--------|----------|--------|----------|
| **M1: 内测版** | Q1 W6 | MVP 可运行 | 10 个内测用户完成首个工作流 |
| **M2: 桌面版 Alpha** | Q2 W4 | 本地模式可用 | 完全离线运行工作流 |
| **M3: 公测版** | Q2 W8 | 差异化功能完成 | 500 注册用户 |
| **M4: 商店上线** | Q3 W4 | Agent 商店 MVP | 50 个 Agent 上架 |
| **M5: 正式版** | Q3 W12 | 完整社区功能 | MAU 5000+ |
| **M6: 商业化** | Q4 | 企业版 | 首个付费客户 |

---

## 6. 成功指标

### 6.1 北极星指标

> **周活跃执行的工作流数 (Weekly Active Workflows, WAW)**

选择理由:
- 反映产品核心价值：用户持续使用工作流解决问题
- 兼顾用户粘性和产品实用性
- 可拆解为多个过程指标

### 6.2 各阶段目标

| 阶段 | 时间 | MAU | WAW | 付费用户 | MRR |
|------|------|-----|-----|----------|-----|
| 内测 | Q1 末 | 500 | 200 | - | - |
| 公测 | Q2 末 | 5,000 | 2,000 | 100 | ¥10,000 |
| 正式 | Q3 末 | 20,000 | 10,000 | 500 | ¥50,000 |
| 增长 | Q4 末 | 50,000 | 30,000 | 2,000 | ¥200,000 |

### 6.3 关键过程指标

**用户获取**
- 新注册用户数
- 注册转化率
- 获客成本 (CAC)

**用户激活**
- 激活率 (创建首个工作流)
- 首次执行时间
- 新用户引导完成率

**用户留存**
- D1/D7/D30 留存率
- 月活跃用户 (MAU)
- 用户生命周期价值 (LTV)

**社区指标**
- Agent 商店上架数量
- 创作者数量
- Agent 平均使用次数
- 创作者收入

---

## 7. 风险与应对

### 7.1 风险矩阵

```
影响大 ↑
       │  ┌─────────────────┐   ┌─────────────────┐
       │  │  R1: 技术复杂度  │   │  R2: 竞争加剧   │
       │  │  可能性: 中      │   │  可能性: 高     │
       │  │  影响: 高       │   │  影响: 高       │
       │  └─────────────────┘   └─────────────────┘
       │  ┌─────────────────┐   ┌─────────────────┐
       │  │  R3: 资源不足   │   │  R4: 用户增长慢 │
       │  │  可能性: 中      │   │  可能性: 中     │
       │  │  影响: 中       │   │  影响: 中       │
       │  └─────────────────┘   └─────────────────┘
影响小 └──────────────────────────────────────────→ 可能性高
```

### 7.2 应对策略

| 风险 | 描述 | 应对策略 |
|------|------|----------|
| **R1: 技术复杂度** | 本地模式、Tauri、Ollama 集成挑战 | MVP 先做云端，本地能力渐进实现 |
| **R2: 竞争加剧** | 大厂入场（字节、阿里） | 聚焦开源+本地，大厂难复制社区 |
| **R3: 资源不足** | 开发周期长，人力有限 | 控制范围，聚焦核心差异化功能 |
| **R4: 用户增长慢** | 市场教育成本高 | 开源引流，模板降门槛，KOL 合作 |
| **R5: AI 成本高** | LLM API 费用影响利润 | 支持本地模型，按用量收费 |

---

## 附录

### A. 相关文档

- [PRD 产品需求文档](./PRD.md)
- [技术架构文档](./ARCHITECTURE.md)
- [市场分析报告](./MARKET-ANALYSIS.md)
- [Phase 1 详细需求](./requirements/PHASE-1-MVP.md)
- [Phase 2 详细需求](./requirements/PHASE-2-DIFFERENTIATION.md)
- [Phase 3 详细需求](./requirements/PHASE-3-COMMUNITY.md)

### B. 变更记录

| 版本 | 日期 | 变更内容 | 作者 |
|------|------|----------|------|
| v1.0 | 2026-01-29 | 初始版本 | - |
